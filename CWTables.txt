
CREATE TABLE Staff
(
	StaffID		INTEGER PRIMARY KEY,
	Name			VARCHAR(40) NOT NULL
)

CREATE TABLE Product
(
	ProductID		INTEGER PRIMARY KEY,
	Name			VARCHAR(40) NOT NULL
)

CREATE TABLE Customer
(
	CustomerID		INTEGER PRIMARY KEY,
	Name			VARCHAR(40) NOT NULL,
	Email			VARCHAR(40) NOT NULL
)

CREATE TABLE Ticket
(
	TicketID		INTEGER PRIMARY KEY,
	Problem		VARCHAR(1000) NOT NULL,
	Status		VARCHAR(20) NOT NULL
		CHECK (Status in ('open', 'closed')),
	Priority		INTEGER NOT NULL
		CHECK (Priority >= 1 and Priority <= 3),
	LoggedTime		TIMESTAMP NOT NULL,
	CustomerID		INTEGER NOT NULL,
	FOREIGN KEY (Ticket.CustomerID) REFERENCES Customer.CustomerID
			ON DELETE RESTRICT,
			ON UPDATE CASCADE
	ProductID		INTEGER NOT NULL,
	FOREIGN KEY (Ticket.ProductID) REFERENCES Product.ProductID
			ON DELETE RESTRICT,
			ON UPDATE CASCADE
)

CREATE TABLE TicketUpdate
(
	TicketUpdateID	INTEGER PRIMARY KEY,
	Message		VARCHAR(1000) NOT NULL,
	UpdateTime		TIMESTAMP NOT NULL,
	TicketID		INTEGER NOT NULL,
	FOREIGN KEY (TicketUpdate.TicketID) REFERENCES Ticket.TicketID
			ON DELETE RESTRICT,
			ON UPDATE CASCADE	
	StaffID		INTEGER
	FOREIGN KEY (TicketUpdate.StaffID) REFERENCES Staff.StaffID
			ON DELETE RESTRICT,
			ON UPDATE CASCADE
)

//EXPECT INDEX INSTRUCTIONS HERE